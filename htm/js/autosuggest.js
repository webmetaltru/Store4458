function getGoogleTerms(e){"use strict";aGoogleTerms=[],FCLib$.fnGetSuggestions(e,!1,fnCallbackGetGoogleTerms)}function fnCallbackGetGoogleTerms(e){"use strict";aGoogleTerms=e}function injectGoogleTerms(e,a){"use strict";var t=a.length;if(t>0){t>5&&(t=5),e.SearchTerms||(e.SearchTerms=[]);for(var r=e.SearchTerms.length,o=[],i=0;r>i;i++)o[e.SearchTerms[i].label]=!0;for(var i=0;t>i;i++)o[a[i]]||e.SearchTerms.push({label:a[i],q:"?",category:"Buscas sugeridas"})}}var g1="5",g2="5",g3="5",g4="5",aGoogleTerms;jQuery.noConflict(),jQuery(function(e){function a(t,r,o,i){if(!FCLib$.bDoneSuggestions&&5>i)return void setTimeout(function(){a(t,r,o,++i)},100);injectGoogleTerms(r,aGoogleTerms);var n=r.SearchTerms,s=r.Products,l=r.RelatedPages,c=r.News;n=e.isArray(n)?n:[],s=e.isArray(s)?s:[],l=e.isArray(l)?l:[],c=e.isArray(c)?c:[];var p=[].concat(n,s,l,c);o(e.map(p,function(e){return{category:e.category,t:e.label,q:e.q,nm:e.label,id:e.id,c:e.c,im:e.im,op:e.op,fp:e.fp,v:e.v,p:e.label,u:e.u,id:e.id,t:e.label,s:e.s,d:e.d,label:e.label}}))}e.widget("custom.autocomplete",e.ui.autocomplete,{_renderMenu:function(a,t){var r=this,o="";e.each(t,function(e,t){t.category!=o&&(a.append("<li class='ui-autocomplete-category'><span class='as-categoria'>"+t.category+"</span></li>"),o=t.category),r._renderItem(a,t)})}}),e("#autocomplete").autocomplete({select:function(a,t){if(t.item.q)return e("#autocomplete-form").submit(),!1;if(t.item.c){var r=t.item.id;return window.location.href="/prod,idloja,"+FC$.IDLoja+",idproduto,"+r,!1}if(t.item.u)return window.location.href=t.item.u.replace("&amp;","&"),!1;if(t.item.s){var o=t.item.id;return window.location.href="/news,idloja,"+FC$.IDLoja+",idnoticia,"+o,!1}},focus:function(a,t){var r=t.item.label.replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#(\d+);/g,function(e,a){return String.fromCharCode(a)});return e("input#autocomplete").val(r),!1},source:function(t,r){getGoogleTerms(t.term),e.ajax({url:"/autosuggest.asp?idloja="+FC$.IDLoja+"&format=1&q="+t.term+"&g1="+g1+"&g2="+g2+"&g3="+g3+"&g4="+g4,dataType:"json",type:"GET",success:function(e){var o=0;a(t.term,e,r,o)},error:function(e,a,t){}})},minLength:3}).data("autocomplete")._renderItem=function(a,t){if(e("li.active:even").css("background-color","#f6f6f6"),t.q){var r="";r=t.q>1?"s":"&nbsp;&nbsp;";var o=t.label.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+e.ui.autocomplete.escapeRegex(this.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>"),i="?"==t.q?"":"<span>"+t.q+"&nbsp;produto"+r+"&nbsp;</span>";return e("<li class='active'></li>").data("item.autocomplete",t).append("<a><table width='100%'><tr><td width='90%' id='as-nome-termos'><span>"+o+"</span></td><td align='right' id='as-qtd-termos'>"+i+"</td></tr></table></a>").appendTo(a)}if(t.c){0==t.fp?valor="Consulte-nos":valor=FormatPrice(t.fp,FC$.Currency),t.fp!=t.op&&0!=t.op?sSale="<span style='background-color:#65984d;color:#ffffff;padding:3px;' class='SearchSaleFC'>&nbsp;"+sF$.fnFormatNumber((t.op-t.fp)/t.op*100)+"%&nbsp;off&nbsp;</span>&nbsp;&nbsp;":sSale="";var n=t.label.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+e.ui.autocomplete.escapeRegex(this.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>");return e("<li class='active'></li>").data("item.autocomplete",t).append("<a><table width='100%'><tr height='75px'><td align=center class='SearchIMGFC'><span><img src='"+FC$.PathPrd+t.im+"' id='as-img-prod' style='vertical-align:middle;'></span></td><td width='55%'><div id='as-nomecat-prod'><span id='as-nome-prod'>"+n+"</span><br/><span id='as-cat-prod'>"+t.c+"</span></div></td><td width=25 class='as-sale'>"+sSale+"</td><td align='right' id='as-valor-prod' nowrap='nowrap'><span>"+valor+"</span></td></tr></table></a>").appendTo(a)}if(t.u){var s=t.label.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+e.ui.autocomplete.escapeRegex(this.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>");return e("<li class='active'></li>").data("item.autocomplete",t).append("<a><table width='100%'><tr valign='0'><td id='as-nome-pag'><a href='"+t.u+"'>"+s+"</td></tr></table></a>").appendTo(a)}if(t.s){var o=t.label.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+e.ui.autocomplete.escapeRegex(this.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>");return e("<li class='active'></li>").data("item.autocomplete",t).append("<a><table width='100%'><tr valign='0'><td width='65%' id='as-nome-not'>"+o+"</td><td align='right' id='as-data-not'>"+t.d+"</td></tr></table></a>").appendTo(a)}}});